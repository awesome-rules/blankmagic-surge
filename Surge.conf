[General]
# General
# > Wi-Fi Assist
wifi-assist = false

# > Internet ÊµãËØï URL
internet-test-url = http://captive.apple.com
# > Proxy ÊµãÈÄü URL
proxy-test-url = http://www.gstatic.com/generate_204
# > Test Timeout (s)
test-timeout = 5

# > TLS Engine
tls-provider = openssl

# > GeoIP Êï∞ÊçÆÂ∫ì
geoip-maxmind-url = https://github.com/Hackl0us/GeoIP2-CN/raw/release/Country.mmdb
ipv6 = true

# Wi-Fi Access
# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
# > ÂÖÅËÆ∏ Wi-Fi ËÆøÈóÆ For macOS, Ëã•ÂÖÅËÆ∏ËøúÁ®ãËÆøÈóÆÂ∞Ü 127.0.0.1 Êîπ‰∏∫ 0.0.0.0
http-listen = 127.0.0.1:6152
socks5-listen = 127.0.0.1:6153

# ËøúÁ®ã Ddashboard
external-controller-access = Password@127.0.0.1:6170

# Compatibility
# > ÂÖºÂÆπÊ®°Âºè
compatibility-mode = False
# > Ë∑≥Ëøá‰ª£ÁêÜ
skip-proxy = 127.0.0.1, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, passenger.t3go.cn, localhost, *.local
# > ÊéíÈô§ÁÆÄÂçï‰∏ªÊú∫Âêç
exclude-simple-hostnames = true

# Experimental
network-framework = false

# DNS Server
dns-server = 223.5.5.5, 114.114.114.114
# > ‰ªé /etc/hosts ËØªÂèñ DNS ËÆ∞ÂΩï
read-etc-hosts = true
//doh-server = https://223.5.5.5/dns-query
# > DOH ËØ∑Ê±ÇÈÄöËøá‰ª£ÁêÜÁ≠ñÁï•ÊâßË°å
doh-follow-outbound-mode = false

# Advanced
# > Log Level
loglevel = notify
# > ÂΩìÈÅáÂà∞ REJECT Á≠ñÁï•Êó∂ËøîÂõûÈîôËØØÈ°µ
show-error-page-for-reject = true
# > Always Real IP Hosts
always-real-ip = *.nextdns.io, msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com
# > Hijack DNS
hijack-dns = 8.8.8.8:53, 8.8.4.4:53
# > TCP Force HTTP Hosts
force-http-engine-hosts = *.ott.cibntv.net,123.59.31.1,119.18.193.135,122.14.246.33,175.102.178.52
# > VIF Excluded Routes
tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# > VIF Included Routes
tun-included-routes = 192.168.1.12/32
# > ÂΩì Wi-Fi ‰∏çÊòØÈ¶ñÈÄâÁΩëÁªúÊó∂ SSID ÁªÑÁ≠ñÁï•‰ΩøÁî®ÈªòËÆ§Á≠ñÁï•
use-default-policy-if-wifi-not-primary = false

[Replica]
# ÊäìÂèñÊµÅÈáè => ËøáÊª§Âô® 1‰∏∫ÂºÄÂêØÔºå0‰∏∫ÂÖ≥Èó≠
# > ÈöêËóè Apple ËØ∑Ê±Ç
hide-apple-request = 1
# > ÈöêËóè Crashlytics ËØ∑Ê±Ç
hide-crash-reporter-request = 1
# > ÈöêËóè UDP ‰ºöËØù
hide-udp = 1
# > ÂÖ≥ÈîÆËØçËøáÊª§Âô®
//noneÔºàÂÖ≥Èó≠ÂÖ≥ÈîÆËØçËøáÊª§Âô®Ôºâ / whitelistÔºà‰ªÖËÆ∞ÂΩïÂåÖÂê´ÂÖ≥ÈîÆÂ≠óÁöÑËØ∑Ê±ÇÔºâ / blacklistÔºà‰ªÖËÆ∞ÂΩï‰∏çÂåÖÂê´ÂÖ≥ÈîÆÂ≠óÁöÑËØ∑Ê±ÇÔºâ / patternÔºàÂåπÈÖçÈÄöÈÖçÁ¨¶ÁöÑËØ∑Ê±ÇÔºâ
keyword-filter-type = blacklist
keyword-filter = icloud, ocsp, logs, analytic, imap, adthor, applovin, appnext, talk, dropbox, github, spys, nexdns

[Proxy]
# ÂΩìËØ∑Ê±Ç‰∏∫ HTTP ËØ∑Ê±ÇÊó∂ËøîÂõû‰∏Ä‰∏™ÊûÅÂ∞èÁöÑ GIF
ad-gif = reject-tinygif
# ÈòªÊ≠¢ËØ∑Ê±Ç
ad-block = reject
# Áõ¥Êé•ËøûÊé•
DIRECT = direct

[Proxy Group]
# ÁôΩÂêçÂçïÊ®°Âºè PROXYÔºåÈªëÂêçÂçïÊ®°Âºè DIRECT
ùóôùó∂ùóªùóÆùóπ = select, DIRECT, ùôãùôçùôäùôìùôî ‚õ∑
# SSID: ÂÖ∑‰ΩìÂì™‰∏™Â≠êÁ≠ñÁï•Â∞ÜË¢´‰ΩøÁî®, Ê†πÊçÆ Wi-FI ÁöÑ SSID ÂÜ≥ÂÆö
# ùóõùóºùó∫ùó≤ ‚õ∫Ô∏è = ssid, default = ùôãùôçùôäùôìùôî ‚õ∑, cellular = ùôãùôçùôäùôìùôî ‚õ∑, "ssid1" = ùôãùôçùôäùôìùôî ‚õ∑, "ssid2" = DIRECT
ùôãùôçùôäùôìùôî ‚õ∑ = url-test, ùôéùôÄùôáùôÄùòæùôè ü™Å, policy-path=https://sub.store/download/STT, interval=600, tolerance=100, evaluate-before-use=true
ùôéùôÄùôáùôÄùòæùôè ü™Å = select, DIRECT, policy-path=https://sub.store/download/STT
ùó¨ùóºùòÇùóßùòÇùóØùó≤ = select, ùôãùôçùôäùôìùôî ‚õ∑, ùôéùôÄùôáùôÄùòæùôè ü™Å
ùó°ùó≤ùòÅùó≥ùóπùó∂ùòÖ = select, ùôéùôÄùôáùôÄùòæùôè ü™Å
ùóòùó∫ùóØùòÜ = select, ùôéùôÄùôáùôÄùòæùôè ü™Å, DIRECT, hidden=true
ùóöùóπùóºùóØùóÆùóπùó†ùó≤ùó±ùó∂ùóÆ = select, ùôãùôçùôäùôìùôî ‚õ∑, hidden = true
ùóßùó≤ùóπùó≤ùó¥ùóøùóÆùó∫ = select, ùôãùôçùôäùôìùôî ‚õ∑, ùôéùôÄùôáùôÄùòæùôè ü™Å
ùóîùóΩùóΩùóπùó≤ = select, DIRECT, ùôãùôçùôäùôìùôî ‚õ∑
ùóöùòÇùóÆùóøùó± = select, REJECT-TINYGIF, REJECT, DIRECT

[Rule]
# Client For macOS
# > Proxy
PROCESS-NAME,v2ray,DIRECT
PROCESS-NAME,ss-local,DIRECT
PROCESS-NAME,UUBooster,DIRECT
# > Download
PROCESS-NAME,aria2c,DIRECT
PROCESS-NAME,fdm,DIRECT
PROCESS-NAME,Folx,DIRECT
PROCESS-NAME,NetTransport,DIRECT
PROCESS-NAME,Thunder,DIRECT
PROCESS-NAME,Transmission,DIRECT
PROCESS-NAME,uTorrent,DIRECT
PROCESS-NAME,WebTorrent,DIRECT
PROCESS-NAME,WebTorrent Helper,DIRECT

# CUSTOM Rules
# > Surge And Github Â§ñÈÉ®ËµÑÊ∫êÊõ¥Êñ∞
AND,((DOMAIN,raw.githubusercontent.com), (USER-AGENT,Surge*)),ùóôùó∂ùóªùóÆùóπ,notification-text="‚ôªÔ∏èÂ§ñÈÉ®ËµÑÊ∫êÊõ¥Êñ∞",notification-interval=3600

# RULE-SET
# > Advertising
DOMAIN-SET,https://anti-ad.net/surge2.txt,ùóöùòÇùóÆùóøùó±
# > Unbreak
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Unbreak.list,DIRECT
# > Youtube„ÄÅNetflix„ÄÅEmby
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/YouTube.list,ùó¨ùóºùòÇùóßùòÇùóØùó≤
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Video/Netflix.list,ùó°ùó≤ùòÅùó≥ùóπùó∂ùòÖ
RULE-SET,https://raw.githubusercontent.com/maicoobox/Surge/master/RuleSET/Media/Emby.list,ùóòùó∫ùóØùòÜ
# > GlobalMedia Services
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/Streaming.list,ùóöùóπùóºùóØùóÆùóπùó†ùó≤ùó±ùó∂ùóÆ
# > Telegram
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Telegram/Telegram.list,ùóßùó≤ùóπùó≤ùó¥ùóøùóÆùó∫
# > Apple Services
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Extra/Apple/Apple.list,ùóîùóΩùóΩùóπùó≤
# > Global
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/Global.list,ùôãùôçùôäùôìùôî ‚õ∑
# > China
RULE-SET,https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/China.list,DIRECT

# Surge ÁöÑËá™Âä® REJECT ‰øùÊä§‰∏¢ÂåÖÔºåÈò≤Ê≠¢Â∫îÁî®Âæ™ÁéØËØ∑Ê±Ç
IP-CIDR,0.0.0.0/32,REJECT,no-resolve

# Local Area Network
RULE-SET,LAN,DIRECT

# GeoIP China
GEOIP,CN,DIRECT

FINAL,ùóôùó∂ùóªùóÆùóπ,dns-failed

[Host]
# Firebase Cloud Messaging
mtalk.google.com = 108.177.125.188
# Google Dl
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29
# CUSTOM DNS

[URL Rewrite]
# Redirect Google Search Service
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 302

# Redirect Google Maps Service
^(http|https):\/\/(ditu|maps).google\.cn https://maps.google.com 302

# Safari Á¶ÅÊ≠¢Áü•‰πéË∑≥ËΩ¨Ëá≥ App
^https?://link\.zhihu\.com/\?target=https?%3A//(.*) https://$1 302
^https?://oia\.zhihu\.com https://zhuanlan.zhihu.com 302
# CUSTOM URL

[Header Rewrite]
# Safari Á¶ÅÊ≠¢ÁôæÂ∫¶Ë∑≥ËΩ¨Ëá≥ App
^https?:\/\/.*\.baidu\.com header-replace User-Agent "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

[MITM]
skip-server-cert-verify = true
hostname = www.googlevideo.cn, ditu.google.cn, maps.google.cn, *baidu.com, -CustomMitM
ca-passphrase = 773D2224
ca-p12 = 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

[Script]
# ÁôæÂ∫¶ÔºàÂÖ®Á´ôÊõøÊç¢‰∏∫ÊâãÊú∫ÁôæÂ∫¶ Quark ÁöÑ User-AgentÔºâ‰ªÖ iPhone
//BaiduChangeUA = type=http-request,pattern=^https?:\/\/(?!d\.pcs).*(?<!map)\.baidu\.com,script-path=https://raw.githubusercontent.com/zZPiglet/Task/master/asset/BaiduChangeUA.js

//ÂÆòÊñπÊâãÂÜå - https://manual.nssurge.com/
//ÁêÜËß£ÂéüÁêÜ - https://manual.nssurge.com/book/understanding-surge/cn/
//Â∏ÆÂä©‰∏≠ÂøÉ - https://nssurge.zendesk.com/
//ÊäÄÊúØÁ§æÂå∫ - https://community.nssurge.com
